"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,r,t){function n(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&i.test("."+e)}function a(e,a){if(!n(a))throw s("badmember",'Dotted member path "@{0}" is invalid.',a);for(var o=a.split("."),i=0,u=o.length;u>i&&r.isDefined(e);i++){var c=o[i];e=null!==e?e[c]:t}return e}function o(e,t){t=t||{},r.forEach(t,function(e,r){delete t[r]});for(var n in e)!e.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t}var s=r.$$minErr("$resource"),i=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;r.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(i,u,c,l){function p(e){return f(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function f(e,r){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,r?"%20":"+")}function d(e,r){this.template=e,this.defaults=g({},n.defaults,r),this.urlParams={}}function m(e,p,f,v){function w(e,r){var t={};return r=g({},p,r),y(r,function(r,n){b(r)&&(r=r()),t[n]=r&&r.charAt&&"@"==r.charAt(0)?a(e,r.substr(1)):r}),t}function E(e){return e.resource}function P(e){o(e||{},this)}var A=new d(e,v);return f=g({},n.defaults.actions,f),P.prototype.toJSON=function(){var e=g({},this);return delete e.$promise,delete e.$resolved,e},y(f,function(e,a){var p=/^(POST|PUT|PATCH)$/i.test(e.method),f=e.timeout,d=r.isDefined(e.cancellable)?e.cancellable:v&&r.isDefined(v.cancellable)?v.cancellable:n.defaults.cancellable;f&&!r.isNumber(f)&&(u.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,f=null),P[a]=function(n,u,m,v){var R,T,O,S={};switch(arguments.length){case 4:O=v,T=m;case 3:case 2:if(!b(u)){S=n,R=u,T=m;break}if(b(n)){T=n,O=u;break}T=u,O=m;case 1:b(n)?T=n:p?R=n:S=n;break;case 0:break;default:throw s("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var x,D,q=this instanceof P,k=q?R:e.isArray?[]:new P(R),W={},j=e.interceptor&&e.interceptor.response||E,U=e.interceptor&&e.interceptor.responseError||t;y(e,function(e,r){switch(r){default:W[r]=$(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!q&&d&&(x=c.defer(),W.timeout=x.promise,f&&(D=l(x.resolve,f))),p&&(W.data=R),A.setUrlParams(W,g({},w(R,e.params||{}),S),e.url);var _=i(W).then(function(t){var n=t.data;if(n){if(r.isArray(n)!==!!e.isArray)throw s("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",a,e.isArray?"array":"object",r.isArray(n)?"array":"object",W.method,W.url);if(e.isArray)k.length=0,y(n,function(e){"object"===("undefined"==typeof e?"undefined":_typeof(e))?k.push(new P(e)):k.push(e)});else{var i=k.$promise;o(n,k),k.$promise=i}}return t.resource=k,t},function(e){return(O||h)(e),c.reject(e)});return _["finally"](function(){k.$resolved=!0,!q&&d&&(k.$cancelRequest=r.noop,l.cancel(D),x=D=W.timeout=null)}),_=_.then(function(e){var r=j(e);return(T||h)(r,e.headers),r},U),q?_:(k.$promise=_,k.$resolved=!1,d&&(k.$cancelRequest=x.resolve),k)},P.prototype["$"+a]=function(e,r,t){b(e)&&(t=r,r=e,e={});var n=P[a].call(this,e,this,r,t);return n.$promise||n}}),P.bind=function(r){return m(e,g({},p,r),f)},P}var h=r.noop,y=r.forEach,g=r.extend,$=r.copy,b=r.isFunction;return d.prototype={setUrlParams:function(t,n,a){var o,i,u=this,c=a||u.template,l="",d=u.urlParams={};y(c.split(/\W/),function(e){if("hasOwnProperty"===e)throw s("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(c)&&(d[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(c)})}),c=c.replace(/\\:/g,":"),c=c.replace(e,function(e){return l=e,""}),n=n||{},y(u.urlParams,function(e,t){o=n.hasOwnProperty(t)?n[t]:u.defaults[t],r.isDefined(o)&&null!==o?(i=e.isQueryParamValue?f(o,!0):p(o),c=c.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,r){return i+r})):c=c.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,r,t){return"/"==t.charAt(0)?t:r+t})}),u.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),t.url=l+c.replace(/\/\\\./,"/."),y(n,function(e,r){u.urlParams[r]||(t.params=t.params||{},t.params[r]=e)})}},m}]})}(window,window.angular);